{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"$id": "https://testing.osdm.io/datafile.schema.json",
	"title": "OTST Datafile",
	"description": "Schema for OTST datafiles",
	"type": "object",
	"properties": {
		"scenarios": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"loggingType": {"type": "string"},
					"code": {"type": "string"},
					"desiredType": {"type": "string"},
					"currency": {"type": "string"},
					"refundOverruleCode": {"type": "string"},
					"refundDate": {"type": "string"},
					"tripRequirementId": {"type": "integer"},
					"passengersListId": {"type": "integer"},
					"desiredFlexibility": {"type": "string"}
				}
			}
		},
		"offerSearchCriteria": {
			"type": "object",
			"title": "Offer Search Criteria",
			"properties": {
				"requestedOfferParts": {
					"type": "string",
					"enum": [
						"ADMISSION",
						"RESERVATION",
						"ANCILLARY",
						"ALL"
					]
				},
				"currency": {"type": "string"},
				"serviceClass": {"type": "string"},
				"travelClass": {
					"type": "string",
					"enum": [
						"ANY_CLASS",
						"FIRST",
						"SECOND"
					]
				},
				"requiresPlaceSelection": {"type": "boolean"},
				"flexibilities": {
					"type": "string",
					"enum": [
						"FULL_FLEXIBLE",
						"SEMI_FLEXIBLE",
						"NON_FLEXIBLE"
					]
				}
			}
		},
		"requestedFulfillmentOptions": {
			"type": "array",
			"items": {
				"type": "object",
				"title": "Requested Fulfillment Option",
				"properties": {
					"fulfillmentType": {
						"type": "string",
						"enum": ["ETICKET"]
					},
					"fulfillmentMedia": {
						"type": "string",
						"enum": [
							"A4_PDF",
							"FULFILLMENT_PARTS",
							"UIC_PDF"
						]
					}
				}
			}
		},
		"tripRequirements": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"id": {"type": "integer"},
					"tripType": {
						"type": "string",
						"title": "Type of Trip Request",
						"enum": [
							"SEARCH",
							"CRITERIA"
						]
					},
					"trip": {
						"type": "object",
						"properties": {
							"origin": {"type": "string"},
							"destination": {"type": "string"},
							"startDatetime": {"type": "string"},
							"endDatetime": {"type": "string"},
							"vehicleNumber": {"type": "string"},
							"operatorCode": {"type": "integer"}
						}
					}
				}
			}
		},
		"passengerList": {
			"type": "array",
			"title": "Passenger List",
			"items": {
				"type": "object",
				"properties": {
					"id": {"type": "integer"},
					"passengers": {
						"type": "object",
						"properties": {
							"reference": {"type": "string"},
							"dateOfBirth": {"type": "string"},
							"$type": {
								"type": "string",
								"enum": ["PERSON"]
							}
						}
					}
				}
			}
		}
	}
}